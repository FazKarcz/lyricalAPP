{% load static %}
<!DOCTYPE html>
<html lang="pl-PL" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{% static 'css/styleSongList.css' %}">
    <script src="https://kit.fontawesome.com/6340fe00a1.js" crossorigin="anonymous"></script>
    <title>Lyrical App</title>
</head>
<body>
    <nav>
        <a href="{% url 'index' %}"><img src="{% static 'pics/lyricus_logo.png' %}" alt="logo"></a>
        <ul class="menu">
            <li><a href="{% url 'artist:artist_list' %}">Artyści</a></li>
            <li><a href="{% url 'song:album_list' %}">Albumy</a></li>
            <li><a href="{% url 'song:song_list' %}">Piosenki</a></li>
            <li><a href="{% url 'dashboard' %}"><i class="fa-solid fa-user fa-lg"></i></a></li>
            <li><a href="{% url 'login' %}">Logowanie</a></li>
            <li><a href="{% url 'register' %}">Rejestracja</a></li>
        </ul>
    </nav>
    <main>
        <h1 class="title">Lista Piosenek</h1>
        <div class="wrap">
            <form action="" class="searchbar" method="GET">
                <input type="text" class="searchTerm" name="search_query" placeholder="Search songs...">
                <button type="submit" class="searchButton"><i class="fa fa-search" aria-hidden="true"></i></button>
            </form>
        </div>
        <div class="songs">
            <table class="songs_table">
                <tr><th>#</th><th>Tytuł</th><th>Wykonawca</th><th>Album</th></tr>
                    {% for song in songs %}
                        {% if song.album.album_cover %}
                            <tr><td><img src="{{ song.album.album_cover.url }}" alt="albumPic"></td><td><a href="{% url 'song:song_detail' song.id %}">{{ song.song_name }}</a></td><td><a href="{% url 'artist:artist_detail' song.artist_id %}">{{ song.artist }}</a></td><td><a href="{% url 'song:album_detail' song.album_id %}">{{ song.album }}</a></td></tr>
                        {% else %}
                            <tr><td>AlbumPic</td><td><a href="{% url 'song:song_detail' song.id %}">{{ song.song_name }}</a></td><td><a href="{% url 'artist:artist_detail' song.artist_id %}">{{ song.artist }}</a></td><td><a href="{% url 'song:album_detail' song.album_id %}">{{ song.album }}</a></td></tr>
                        {% endif %}
                    {% endfor %}
            </table>
        </div>
        <div class="pagination">
                <span class="step-links">
                    {% if page_obj.has_previous %}
                        <a href="?page=1{% if order_by %}&order_by={{ order_by }}{% endif %}{% if search_query %}&search_query={{ search_query }}{% endif %}">&laquo; first</a>
                        <a href="?page={{ page_obj.previous_page_number }}{% if order_by %}&order_by={{ order_by }}{% endif %}{% if search_query %}&search_query={{ search_query }}{% endif %}">previous</a>
                    {% endif %}

                    <span class="current">
                        Strona {{ page_obj.number }} z {{ page_obj.paginator.num_pages }}.
                    </span>

                    {% if page_obj.has_next %}
                        <a href="?page={{ page_obj.next_page_number }}{% if order_by %}&order_by={{ order_by }}{% endif %}{% if search_query %}&search_query={{ search_query }}{% endif %}">next</a>
                        <a href="?page={{ page_obj.paginator.num_pages }}{% if order_by %}&order_by={{ order_by }}{% endif %}{% if search_query %}&search_query={{ search_query }}{% endif %}">last &raquo;</a>
                    {% endif %}
                    <button type="submit" class="pag"><i class="fa-solid fa-angles-left" aria-hidden="true"></i></button>
                    <button type="submit" class="pag"><i class="fa-solid fa-angle-left" aria-hidden="true"></i></button>
                    <button type="submit" class="pag"><i class="fa-solid fa-angle-right" aria-hidden="true"></i></button>
                    <button type="submit" class="pag"><i class="fa-solid fa-angles-right" aria-hidden="true"></i></button>
                </span>
            </div>
    </main>
</body>
</html>